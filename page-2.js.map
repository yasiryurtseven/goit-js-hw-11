{"version":3,"file":"page-2.js","sources":["../src/js/page-2.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionsData: 'alt',\n});\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const value = form.elements.search.value.trim();\n  if (value === '') {\n    iziToast.error({\n      title: `Error`,\n      message: `Please enter a search query!`,\n      position: 'topRight',\n    });\n    return;\n  }\n  gallery.innerHTML = '';\n  loader.classList.remove('hidden');\n\n  fetch(\n    `https://pixabay.com/api/?key=54641867-0b2bd143cc574463d0ab3cc86&q=${value}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, threre are no images matching your search query. Please try again',\n          position: 'topRight',\n        });\n        return;\n      }\n      gallery.innerHTML = data.hits\n        .map(\n          hit => `<div class=\"photo-card\">\n      <a href= \"${hit.largeImageURL}\">\n      <img src=\"${hit.webformatURL}\" alt=\"${hit.tags}\" loading=\"lazy\" />\n      </a>\n      \n      <div class=\"info\">\n        <p class=\"info-item\">\n          <b>Likes</b>${hit.likes}\n        </p>\n        <p class=\"info-item\">\n          <b>Views</b>${hit.views}\n        </p>\n        <p class=\"info-item\">\n          <b>Comments</b>${hit.comments}\n        </p>\n        <p class=\"info-item\">\n          <b>Downloads</b>${hit.downloads}\n        </p>\n      </div>\n    </div>`\n        )\n        .join('');\n      lightbox.refresh();\n    })\n    .catch(() => {\n      iziToast.error({\n        title: 'Error',\n        message: `Something went wrong. Please try again later.`,\n        position: 'topRight',\n      });\n    })\n    .finally(() => {\n      loader.classList.add('hidden');\n      form.reset();\n    });\n});\n"],"names":["form","gallery","loader","lightbox","SimpleLightbox","event","value","iziToast","response","data","hit"],"mappings":"2GAMA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,KAChB,CAAC,EAEDJ,EAAK,iBAAiB,SAAUK,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAMC,EAAQN,EAAK,SAAS,OAAO,MAAM,OACzC,GAAIM,IAAU,GAAI,CAChBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+BACT,SAAU,UAChB,CAAK,EACD,MACD,CACDN,EAAQ,UAAY,GACpBC,EAAO,UAAU,OAAO,QAAQ,EAEhC,MACE,qEAAqEI,CAAK,0DAC3E,EACE,KAAKE,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BF,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UACpB,CAAS,EACD,MACD,CACDN,EAAQ,UAAYQ,EAAK,KACtB,IACCC,GAAO;AAAA,kBACCA,EAAI,aAAa;AAAA,kBACjBA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,wBAK5BA,EAAI,KAAK;AAAA;AAAA;AAAA,wBAGTA,EAAI,KAAK;AAAA;AAAA;AAAA,2BAGNA,EAAI,QAAQ;AAAA;AAAA;AAAA,4BAGXA,EAAI,SAAS;AAAA;AAAA;AAAA,WAIhC,EACA,KAAK,EAAE,EACVP,EAAS,QAAO,CACtB,CAAK,EACA,MAAM,IAAM,CACXI,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gDACT,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbL,EAAO,UAAU,IAAI,QAAQ,EAC7BF,EAAK,MAAK,CAChB,CAAK,CACL,CAAC"}